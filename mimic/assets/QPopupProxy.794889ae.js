import{u as P,f as x,Q as b,i as y}from"./ClosePopup.bf2daf7f.js";import{p as Q,r,c as h,w as k,h as C,g as M}from"./index.cabe7b82.js";var A=Q({name:"QPopupProxy",props:{...P,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(a,{slots:g,emit:p,attrs:f}){const{proxy:c}=M(),{$q:l}=c,t=r(!1),o=r(null),i=h(()=>parseInt(a.breakpoint,10)),{canShow:v}=x({showing:t});function u(){return l.screen.width<i.value||l.screen.height<i.value?"dialog":"menu"}const n=r(u()),d=h(()=>n.value==="menu"?{maxHeight:"99vh"}:{});k(()=>u(),e=>{t.value!==!0&&(n.value=e)}),Object.assign(c,{show(e){v(e)===!0&&o.value.show(e)},hide(e){o.value.hide(e)},toggle(e){o.value.toggle(e)}});function m(e){t.value=!0,p("show",e)}function w(e){t.value=!1,n.value=u(),p("hide",e)}return()=>{const e={ref:o,...d.value,...f,onShow:m,onHide:w};let s;return n.value==="dialog"?s=b:(s=y,Object.assign(e,{target:a.target,contextMenu:a.contextMenu,noParentEvent:!0,separateClosePopup:!0})),C(s,e,g.default)}}});export{A as Q};
